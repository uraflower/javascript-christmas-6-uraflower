# 💁‍♀️ 프로젝트 설명

## 🎉 우테코 식당의 12월 이벤트

> 본 프로젝트의 목적은 Javascript를 사용하여 다음 내용을 바탕으로 하는 애플리케이션을 구현하는 것이다.

2023년 12월, 우테코 식당에서 12월 할인 이벤트를 연다. 식당에서 `10,000원`이상 주문한다면, 모두 이벤트 대상이다.

이벤트는 할인, 증정 이벤트와 이에 따른 배지 이벤트로 나뉜다. 먼저 할인에는 여러 가지 종류가 있다. 식당을 방문한 날짜나 주문한 메뉴에 따라 할인이 적용된다. 각 할인은 중복 적용이 가능하다. 할인 뿐만 아니라, 일정 금액 이상 주문 시 샴페인을 증정하는 이벤트도 진행한다. 또한 할인과 증정으로 받은 혜택의 총 금액에 따라 고객에게 별, 트리, 산타 모양 배지를 부여한다.

이번 12월 이벤트는 내년 새해 이벤트와도 연관이 있다. 우선 12월 이벤츠 참여 고객의 5%가 내년 1월 새해 이벤트에 재참여하기를 기대한다. 또 이번 이벤트에서 배지를 받은 고객들이 내년 새해 이벤트에 참여한다면, 배지에 따라 또 다른 새해 선물을 증정할 예정이다.

자세한 이벤트 정보는 [여기](EVENT.md)에서 확인할 수 있다.

## 😎 애플리케이션 작동 예시

```
안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
3
주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1
12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
 
<주문 메뉴>
티본스테이크 1개
바비큐립 1개
초코케이크 2개
제로콜라 1개
 
<할인 전 총주문 금액>
142,000원
 
<증정 메뉴>
샴페인 1개
 
<혜택 내역>
크리스마스 디데이 할인: -1,200원
평일 할인: -4,046원
특별 할인: -1,000원
증정 이벤트: -25,000원
 
<총혜택 금액>
-31,246원
 
<할인 후 예상 결제 금액>
135,754원
 
<12월 이벤트 배지>
산타
```

## 🔨 환경 설정

- [애플리케이션 실행 환경 설정 가이드](CONFIG.md)
- [코드 컨벤션 환경 설정 가이드](CODE_CONVENTION.md)

## ⚡ 애플리케이션 실행 방법

[애플리케이션 실행 환경 설정](CONFIG.md)을 마친 뒤, 다음 명령어를 실행한다.

```shell
node ./src/index.js
```

## 👩‍💻 테스트

### 테스트 코드

`Jest`를 활용하여 테스트 코드를 작성하였다.

### 실행 방법

테스트를 실행하기 위해서는 [환경 설정](CONFIG.md)이 선행되어야 한다. 환경 설정을 다 하고 난 다음, 명령어를 통해 테스트를 실행할 수 있다.

```shell
npm test
```

---

# 📝 핵심 기능 목록

## ✔ 방문 날짜

### 날짜 생성

- [x] 입력 받은 날짜를 가지고 방문 날짜를 생성한다. (ex. `2023년 12월 x일`)
  - 예외
    
    ```
    [ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.
    ```
    
    - [x] 입력 값이 빈 문자열인 경우
    - [x] 입력 값이 공백을 포함하고 있는 경우 (ex. ` 1 `)
    - [x] 입력 값이 온점(.)을 포함하고 있는 경우 (ex. `1.0`, `5.0000000000000001`)
    - [x] 입력 값이 정수가 아닌 경우 (ex. `1일`, `hi`, `1+1`)
    - [x] 입력 값이 `1~31` 사이 숫자가 아닌 경우 (ex. `-1`, `0`, `99`)

### 날짜 정보 전달

- [x] 방문 날짜의 날을 전달한다.
- [ ] 방문 날짜의 요일을 전달한다.
- [x] 방문 날짜가 이벤트 달력에 표시된 별 날짜인지 여부를 전달한다.
- [x] 방문 날짜의 날이 특정 범위 안에 있는지 확인한다.
- [X] 방문 날짜가 주말인지 확인한다.

## ✔ 메뉴판 생성 

- [x] 메뉴판을 생성한다.

  ```
  <애피타이저>
  양송이수프(6,000), 타파스(5,500), 시저샐러드(8,000)

  <메인>
  티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000), 크리스마스파스타(25,000)

  <디저트>
  초코케이크(15,000), 아이스크림(5,000)

  <음료>
  제로콜라(3,000), 레드와인(60,000), 샴페인(25,000)
  ```


## ✔ 주문 확인

- [x] 각 주문을 쉼표(,)와 대시(-)를 기준으로 구분한다.
- 입력 받은 메뉴와 개수를 검증한다.
  - 예외
    
    ```
    [ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.
    ```
    
    - [x] 주문한 메뉴가 메뉴판에 없는 경우
    - [x] 메뉴의 각 개수가 양의 정수가 아닌 경우 (ex. undefined, 빈 문자열, 공백, `1개`, `hi`, `1.0`)
    - [x] 메뉴를 중복 입력한 경우 (ex. 시저샐러드-1,시저샐러드-1)
  
  - 예외 (음료 주문 관련 안내)
    
    ```
    [ERROR] 음료만 주문 시, 주문할 수 없습니다. 다시 입력해 주세요.
    ```
    
    - [x] 음료만 주문한 경우
    
  - 예외 (메뉴 개수 제한 관련 안내)
    
    ```
    [ERROR] 메뉴는 한 번에 최대 20개까지만 주문할 수 있습니다. 다시 입력해 주세요.
    ```

    - [x] 주문한 메뉴의 총 개수가 `20`을 초과한 경우
- [x] 주문 목록에 특정 카테고리 메뉴가 몇 개 있는지 센다.
- [x] 할인 전 총주문 금액을 계산한다.

## ✔ 할인

### 크리스마스 디데이 할인 금액 계산

- [x] 방문 날짜가 `1~25` 사이인 경우, `1000원 + ((일수 - 1) * 100원)` 만큼 할인한다.

### 평일 할인 금액 계산

- [x] 방문 날짜가 `1~31` 사이이면서 방문 요일이 `일요일~목요일` 사이인 경우, 디저트 메뉴 1개당 `2023원` 만큼 할인한다.

### 주말 할인 금액 계산

- [x] 방문 날짜가 `1~31` 사이이면서 방문 요일이 `금요일~토요일` 사이인 경우, 메인 메뉴 1개당 `2023원` 만큼 할인한다.

### 특별 할인 금액 계산

- [x] 방문 날짜가 `1~31` 사이이면서 이벤트 달력에 별(🌟)이 있는 날짜인 경우, `1000원` 만큼 할인한다.

### 할인 금액 합계 계산

- [ ] 할인 금액의 합계를 계산하여 전달한다. (합계 값을 필드로 저장하지 않는다.)

## ✔ 증정

### 증정 메뉴 전달

- [ ] 증정 기준에 부합하는 경우, 증정 메뉴의 이름과 개수를 확인한다.
  
  ```
  할인 전 총주문 금액이 `12만 원` 이상인 경우, 샴페인 1개를 증정한다.
  ```

- [ ] 증정 기준에 부합하지 않는 경우, ... null? "없음"?

### 증정 혜택 금액 계산

- [ ] `증정 메뉴 가격 * 증정 개수`의 합계를 계산한다.

## ✔ 총 혜택 금액 계산

- [ ] 총혜택 금액을 계산한다.
  - `총혜택 금액 = 할인 금액의 합계 + 증정 메뉴의 가격`

## ✔ 배지 증정

- [ ] 총 혜택 금액을 불러와 기준에 맞는 배지 이름을 전달한다. 배지 증정 이벤트에 해당되지 않는 경우 ... null? "없음"?

  ```
  - 총 혜택 금액이 5천원 이상: 별
  - 총 혜택 금액이 1만원 이상: 트리
  - 총 혜택 금액이 2만원 이상: 산타
  ```

---

# 💬 입출력 기능 목록

## ✔ 입력

⚠ 입력 기능 구현 시, 입력 값에 대한 검증, 캐스팅을 통한 형변환을 하지 않는다.

### 식당 방문 날짜

```
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
```

- [x] 식당 방문 날짜를 입력 받는다.


### 주문할 메뉴 및 개수

```
주문하실 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
```

- [x] 주문할 메뉴와 개수를 입력 받는다.
    - 입력 형식: `{메뉴 이름}-{개수}`

## ✔ 출력

⚠ *금액 출력 시 1,000원 단위로 쉼표로 구분하여 출력한다. (ex. 135,754원)*

### 애플리케이션 시작 가이드 메시지

```
<인사말>
안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
2023년 12월 한 달 동안 우테코 식당에서 10,000원 이상 주문하시는
모든 고객님들께 푸짐한 혜택을 드리는 이벤트를 진행하고 있습니다.
더불어 이번 이벤트에서 특정 금액 이상 혜택을 받으신 고객님들께는
2024년 1월 예정된 새해 이벤트에서 또 다른 혜택을 제공해드릴 예정입니다.
자세한 이벤트 내용은 <docs/EVENT.md>에서 확인하실 수 있습니다.
우테코 식당에서 즐거운 추억을 쌓으실 수 있도록 항상 최선을 다하겠습니다.
감사합니다.
```

- [ ] 애플리케이션 시작 시, 위 메시지를 출력한다.

### 통계 출력 전 가이드 메시지

```
12월 26일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
```

- [ ] 메뉴 주문이 정상적으로 완료되면, 각종 메시지를 출력하기 전에 가장 먼저 위 메시지를 출력한다.

### 주문 받은 메뉴

```
<주문 메뉴>
티본스테이크 1개
바비큐립 1개
초코케이크 2개
제로콜라 1개
```

- [x] 주문 받은 메뉴를 출력한다. 출력 순서는 자유롭게 해도 된다.
    - 출력 형식: `{메뉴 이름} {개수}개`

### 할인 전 총주문 금액

```
<할인 전 총주문 금액>
142,000원
```

- [ ] 할인 전 총주문 금액을 출력한다.
    - 출력 형식: `{금액}원`

### 증정 메뉴

```
<증정 메뉴>
샴페인 1개
```

- [ ] 증정 메뉴가 있는 경우, 증정 메뉴를 출력한다.
    - 출력 형식: `{메뉴 이름} {개수}개`
- [ ] 증정 메뉴가 없는 경우, "없음"을 출력한다.

### 혜택 내역

```
<혜택 내역>
크리스마스 디데이 할인: -1,200원
평일 할인: -4,046원
특별 할인: -1,000원
증정 이벤트: -25,000원
```

- [ ] 혜택 내역이 하나라도 있는 경우, 해당되는 혜택 내역을 출력한다.
    - 출력 형식: `{이벤트 이름}: -{혜택 금액}원`
    - 출력 순서
        - [x] 크리스마스 디데이 할인
        - [x] 평일 할인
        - [x] 주말 할인
        - [x] 특별 할인
        - [ ] 증정 이벤트
- [ ] 혜택 내역이 하나도 없는 경우, "없음"을 출력한다.

### 총혜택 금액

```
<총혜택 금액>
-31,246원
```

- [ ] 총혜택 금액이 있는 경우, 총혜택 금액을 출력한다.
    - 출력 형식: `-{총혜택 금액}원`
- [ ] 총혜택 금액이 없는 경우, "0원"을 출력한다.

### 할인 후 예상 결제 금액

```
<할인 후 예상 결제 금액>
135,754원
```

- [ ] 할인 후 예상 결제 금액을 출력한다.
    - 출력 형식: `{예상 결제 금액}원`

### 이벤트 배지

```
<12월 이벤트 배지>
산타
```

- [ ] 총혜택 금액에 따른 이벤트 배지의 이름을 출력한다.
    - 5천 원 이상인 경우: 별
    - 1만 원 이상인 경우: 트리
    - 2만 원 이상인 경우: 산타
- [ ] 이벤트 배지에 해당되지 않는 경우, "없음"을 출력한다.

---

# 🚨 예외 처리 공통 사항

- 사용자가 잘못된 값을 입력할 경우 `throw`문을 사용해 예외를 발생시키고, 에러 메시지를 출력한다.
- 모든 에러 메시지는 "[ERROR]"로 시작한다.
- 예외 발생 시, 해당 부분부터 다시 입력 받는다.
